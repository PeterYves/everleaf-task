<div class="main">
<h1 class="header"><%= t('view.welcome') %></h1>
<div class="content"
<p id="notice"><%= notice %></p>
<hr>
<div class="tasks">
<h1>Tasks</h1>

<%= form_tag(tasks_path, method: :get,style:'float:left;margin-right:5px') do %>
  <%= text_field_tag :term1, params[:term1],placeholder:'  search by task name' %>
  <%= submit_tag 'Search', name: nil %>
 <% end %>

 <%= form_tag(tasks_path, method: :get,style:'float:left;margin-right:5px') do %>
  <%= text_field_tag :term2, params[:term2],placeholder:'  search by status' %>
  <%= submit_tag 'Search', name: nil %>
 <% end %>

<%= form_tag(tasks_path, method: :get,style:'float:left') do %>
  <%= text_field_tag :term, params[:term],placeholder:'  search by both name or status' %>
  <%= submit_tag 'Search', name: nil %>
 <% end %><br><br>

<table>
  <thead>
    <tr>
      <th>TaskName</th>
      <th>Details</th>
      <th>Status</th>
      <th>Priority</th>
      <th>Task creator</th>
      <th>Creation Date</th>
      <th>StartDate</th>
      <th>EndDate</th>
      <th colspan="3">Actions</th>
    </tr>
  </thead>

  <tbody>
    <% @tasks.each do |task| %>
      <tr>
        <td><%= task.name %></td>
        <td><%= task.details %></td>
        <td><%= task.status %></td>
        <td><%= task.priority %></td>
        <td><%= task.user.username %></td>
        <td><%= task.created_at %></td>
        <td><%= task.startdate %></td>
        <td><%= task.enddate %></td>
       
        <td><%= link_to 'Show', task %></td>
        <td><%= link_to 'Edit', edit_task_path(task) %></td>
        <td><%= link_to 'Destroy', task, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>
<%= paginate @tasks %>

<div class="sort1">
<h3 class="sortby">Sort By:</h3>
<%= link_to "name", tasks_path(sort_by: "name"),class:'btn btn-primary' %>
<%= link_to "enddate", tasks_path(sort_by: "enddate"),class:'btn btn-warning' %>
<%= link_to "priority", tasks_path(sort_by: "priority"),class:'btn btn-secondary' %>
</div>
<br>
<%= link_to t('view.New Task'), new_task_path %>
</div>
</div>
</div>

